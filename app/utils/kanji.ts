const kanjiJson = {
  万: '万',
  两: '両',
  画: '画',
  昼: '昼',
  蚕: '蚕',
  恶: '悪',
  旧: '旧',
  师: '師',
  冰: '氷',
  单: '単',
  巢: '巣',
  业: '業',
  争: '争',
  来: '来',
  东: '東',
  乘: '乗',
  岛: '島',
  剧: '劇',
  严: '厳',
  愿: '願',
  变: '変',
  里: '裏',
  佛: '仏',
  会: '会',
  传: '伝',
  假: '仮',
  体: '体',
  价: '価',
  舍: '舎',
  系: '係',
  个: '個',
  仓: '倉',
  侧: '側',
  备: '備',
  伤: '傷',
  亿: '億',
  优: '優',
  儿: '児',
  贫: '貧',
  兴: '興',
  圆: '円',
  写: '写',
  军: '軍',
  创: '創',
  劳: '労',
  效: '効',
  动: '動',
  势: '勢',
  区: '区',
  医: '医',
  协: '協',
  准: '準',
  干: '幹',
  点: '点',
  压: '圧',
  历: '歴',
  参: '参',
  号: '号',
  员: '員',
  营: '営',
  鸣: '鳴',
  团: '団',
  图: '図',
  围: '囲',
  国: '国',
  园: '園',
  卖: '売',
  声: '声',
  场: '場',
  报: '報',
  盐: '塩',
  增: '増',
  处: '処',
  条: '条',
  奋: '奮',
  妇: '婦',
  学: '学',
  孙: '孫',
  实: '実',
  宝: '宝',
  宪: '憲',
  专: '専',
  导: '導',
  当: '当',
  县: '県',
  党: '党',
  赏: '賞',
  届: '届',
  属: '属',
  层: '層',
  灾: '災',
  顺: '順',
  卷: '巻',
  带: '帯',
  帐: '帳',
  广: '広',
  庁: '庁',
  应: '応',
  库: '庫',
  张: '張',
  归: '帰',
  后: '後',
  从: '従',
  术: '術',
  复: '復',
  德: '徳',
  卫: '衛',
  态: '態',
  惯: '慣',
  战: '戦',
  担: '担',
  扩: '拡',
  拜: '拝',
  举: '挙',
  采: '採',
  舍: '捨',
  挥: '揮',
  损: '損',
  数: '数',
  敌: '敵',
  对: '対',
  断: '断',
  时: '時',
  晚: '晩',
  暑: '暑',
  题: '題',
  荣: '栄',
  梅: '梅',
  樱: '桜',
  检: '検',
  乐: '楽',
  极: '極',
  样: '様',
  构: '構',
  权: '権',
  横: '横',
  标: '標',
  机: '機',
  树: '樹',
  桥: '橋',
  欠: '欠',
  歩: '歩',
  残: '残',
  杀: '殺',
  谷: '穀',
  毎: '毎',
  气: '気',
  决: '決',
  海: '海',
  浅: '浅',
  济: '済',
  减: '減',
  满: '満',
  温: '温',
  测: '測',
  汤: '湯',
  汉: '漢',
  渔: '漁',
  洁: '潔',
  灯: '灯',
  无: '無',
  烧: '焼',
  热: '熱',
  爱: '愛',
  状: '状',
  将: '将',
  独: '独',
  现: '現',
  圣: '聖',
  异: '異',
  发: '発',
  务: '務',
  研: '研',
  确: '確',
  礼: '礼',
  社: '社',
  神: '神',
  祖: '祖',
  祝: '祝',
  视: '視',
  福: '福',
  秘: '秘',
  种: '種',
  积: '積',
  窓: '窓',
  产: '産',
  竞: '競',
  笔: '筆',
  节: '節',
  筑: '築',
  简: '簡',
  丝: '糸',
  约: '約',
  级: '級',
  红: '紅',
  纪: '紀',
  纸: '紙',
  纳: '納',
  纯: '純',
  经: '経',
  组: '組',
  终: '終',
  细: '細',
  结: '結',
  绝: '絶',
  给: '給',
  统: '統',
  绘: '絵',
  续: '続',
  绢: '絹',
  总: '総',
  练: '練',
  绿: '緑',
  绵: '綿',
  线: '線',
  编: '編',
  纵: '縦',
  缩: '縮',
  绩: '績',
  织: '織',
  买: '買',
  署: '署',
  义: '義',
  养: '養',
  习: '習',
  者: '者',
  职: '職',
  书: '書',
  脉: '脈',
  朗: '朗',
  脑: '脳',
  胜: '勝',
  肠: '腸',
  脏: '臓',
  临: '臨',
  乱: '乱',
  辞: '辞',
  芸: '芸',
  着: '著',
  叶: '葉',
  梦: '夢',
  藏: '蔵',
  药: '薬',
  虫: '虫',
  众: '衆',
  裝: '装',
  补: '補',
  制: '製',
  复: '複',
  见: '見',
  规: '規',
  觉: '覚',
  亲: '親',
  览: '覧',
  观: '観',
  计: '計',
  记: '記',
  讨: '討',
  训: '訓',
  设: '設',
  译: '訳',
  许: '許',
  访: '訪',
  证: '証',
  评: '評',
  词: '詞',
  话: '話',
  试: '試',
  诗: '詩',
  诚: '誠',
  语: '語',
  读: '読',
  说: '説',
  认: '認',
  误: '誤',
  志: '誌',
  调: '調',
  论: '論',
  谈: '談',
  课: '課',
  诸: '諸',
  诞: '誕',
  讲: '講',
  谢: '謝',
  识: '識',
  议: '議',
  护: '護',
  丰: '豊',
  头: '頭',
  贝: '貝',
  负: '負',
  则: '則',
  财: '財',
  败: '敗',
  责: '責',
  货: '貨',
  费: '費',
  贷: '貸',
  贵: '貴',
  贮: '貯',
  贺: '賀',
  贸: '貿',
  资: '資',
  赁: '賃',
  质: '質',
  赞: '賛',
  车: '車',
  转: '転',
  轻: '軽',
  轮: '輪',
  输: '輸',
  农: '農',
  边: '辺',
  连: '連',
  进: '進',
  周: '週',
  过: '過',
  运: '運',
  达: '達',
  游: '遊',
  远: '遠',
  适: '適',
  选: '選',
  遗: '遺',
  都: '都',
  乡: '郷',
  邮: '郵',
  针: '針',
  铁: '鉄',
  矿: '鉱',
  银: '銀',
  铜: '銅',
  钱: '銭',
  录: '録',
  钢: '鋼',
  镜: '鏡',
  长: '長',
  门: '門',
  问: '問',
  闭: '閉',
  间: '間',
  开: '開',
  关: '関',
  闻: '聞',
  阁: '閣',
  陆: '陸',
  险: '険',
  队: '隊',
  阶: '階',
  阳: '陽',
  际: '際',
  杂: '雑',
  难: '難',
  云: '雲',
  电: '電',
  静: '静',
  顶: '頂',
  预: '預',
  领: '領',
  颜: '顔',
  类: '類',
  额: '額',
  风: '風',
  飞: '飛',
  饮: '飲',
  饭: '飯',
  饲: '飼',
  馆: '館',
  马: '馬',
  驿: '駅',
  验: '験',
  鱼: '魚',
  鸟: '鳥',
  麦: '麦',
  黄: '黄',
  黑: '黒',
  鼻: '鼻',
  齿: '歯',
  辨: '弁',
  瓣: '弁',
  辩: '弁',
};

const kanjiMap = new Map(Object.entries(kanjiJson));

import Kuroshiro from 'kuroshiro';
// Initialize kuroshiro with an instance of analyzer (You could check the [apidoc](#initanalyzer) for more information):
// For this example, you should npm install and import the kuromoji analyzer first
import KuromojiAnalyzer from 'kuroshiro-analyzer-kuromoji';
// Instantiate:
const kuroshiro = new Kuroshiro();

let isInit = false;

const initKuroshiro = async () => {
  if (!isInit) {
    await kuroshiro.init(new KuromojiAnalyzer());
    isInit = true;
  }
  return true;
}

const convertKanji = async (str: string): Promise<string> => {
  // Initialize
  // Here uses async/await, you could also use Promise
  await initKuroshiro();
  // Convert what you want:
  const fff = str.split("").map(n => {
    if (kanjiMap.has(n)) {
      return kanjiMap.get(n);
    }
    return n;
  }).join("")
  const result = await kuroshiro.convert(fff, {
    mode: 'furigana',
    to: 'hiragana',
  });
  return result;
};

export { kanjiMap, convertKanji };
